{"mappings":"wpBAYAA,EAZA,WACE,MAAO,CACLC,OAAQC,SAASC,cAAc,iBAC/BC,aAAcF,SAASC,cAAc,aACrCE,eAAgBH,SAASC,cAAc,WACvCG,aAAcJ,SAASC,cAAc,UACrCI,YAAaL,SAASC,cAAc,cACpCK,QAASN,SAASC,cAAc,YAChCM,UAAWP,SAASC,cAAc,c,KCRtC,IAAMO,EACJ,wEAEmBR,SAASC,cAAc,U,IAwB5CQ,EAAe,CAAEC,YAlBjB,WAGE,OAAOC,MAFM,uCAEK,CAChBC,QAAS,CACP,YAAaJ,KAEdK,MAAK,SAAAC,GACN,OAAOA,EAASC,M,KAUUC,gBAN9B,SAAyBC,GACvB,OAAON,MACL,wDAA2EO,OAAnBD,EAAQ,aAAmBC,OAARV,IAC3EK,MAAK,SAAAC,G,OAAYA,EAASC,M,mBCrBxBI,GAAO,G,cAAAC,WAab,SAASC,EAAUC,GACjB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAIE,OAAQD,GAAK,EAAG,CACtC,IAAIE,EAAQH,EAAIC,GAAGG,GACfC,EAAOL,EAAIC,GAAGG,GAEZE,EAAiB5B,SAAS6B,cAAc,UAC9CD,EAAeH,MAAQA,EACvBG,EAAeE,YAAcH,EAC7BR,EAAKpB,OAAOgC,YAAYH,E,MCpBtBI,GAAO,EAAAC,EAAAb,WAqCb,SAASc,EAAOZ,GAEd,IAAIa,EAASb,EAAIc,KAAI,SAAAC,G,OAAQA,EAAKC,G,IAG9BC,EAAUjB,EAAIc,KAAI,SAAAC,G,OAAQA,EAAKG,OAAO,GAAGC,W,IAGzCC,EAAUpB,EAAIc,KAAI,SAAAC,G,OAAQA,EAAKG,OAAO,GAAGG,W,IAEvCC,EAAS,yCAK8B1B,OAFfiB,EAAO,8EAGSjB,OADDqB,EAAQ,wDACCrB,OAARwB,EAAQ,wBAItDV,EAAK9B,aAAa2C,mBAAmB,YAAaD,E,CASpD,SAASE,IACPd,EAAK7B,eAAe4C,MAAMC,QAAU,M,CAItC,SAASC,IACPjB,EAAK5B,aAAa2C,MAAMC,QAAU,O,CAtEpChB,EAAKjC,OAAOmD,iBAAiB,UAM7B,WACE,IAAMjC,EAqBgBe,EAAKjC,OAAOoD,QAAQnB,EAAKjC,OAAOqD,eACnBtB,YApBjB9B,SAASC,cAAc,cAkExBoD,MAAMC,KAAKtB,EAAK9B,aAAaqD,UAGrCC,SAAQ,SAAAC,GAEXA,IAAUzB,EAAK3B,aACjB2B,EAAK9B,aAAawD,YAAYD,E,IApEhCzB,EAAKzB,UAAUoD,UAAUC,IAAI,cA+C/B5B,EAAK7B,eAAe4C,MAAMC,QAAU,QA1CpCvC,EAAIO,gBAAgBC,GACjBJ,KAAKqB,GACL2B,MAAMZ,GACNa,QAAQhB,GAEXd,EAAKzB,UAAUwC,MAAMC,QAAU,O,IDvB/BvC,EAAIC,cACDG,KAAKQ,GACLwC,OAAM,SAAAE,GACDA,IAqBR5C,EAAKf,aAAa2C,MAAMC,QAAU,Q","sources":["src/js/get-refs.js","src/js/cat-api.js","src/js/get-options.js","src/index.js"],"sourcesContent":["function getRefs() {\n  return {\n    select: document.querySelector('.breed-select'),\n    catContainer: document.querySelector('.cat-info'),\n    loadingMessage: document.querySelector('.loader'),\n    errorMessage: document.querySelector('.error'),\n    closeButton: document.querySelector('.close-btn'),\n    content: document.querySelector('.content'),\n    container: document.querySelector('.container'),\n  };\n}\n\nexport default getRefs;\n","const API_KEY =\n  'live_g3D26VHAvpkRAZlZj7jcyMBbUD2jb6JQVlVVYA60YGep9O596PhpPwwPd9go9JOy';\n\nconst errorMessage = document.querySelector('.error');\n//Show error\nfunction showError() {\n  errorMessage.style.display = 'block';\n}\n\nfunction fetchBreeds() {\n  const url = `https://api.thecatapi.com/v1/breeds/`;\n\n  return fetch(url, {\n    headers: {\n      'x-api-key': API_KEY,\n    },\n  }).then(response => {\n    return response.json();\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=${API_KEY}`\n  ).then(response => response.json());\n}\n\nexport default { fetchBreeds, fetchCatByBreed };\n","import API from './cat-api';\nimport getRefs from './get-refs';\n\nconst refs = getRefs();\n\nfunction createOptions() {\n  API.fetchBreeds()\n    .then(getAllIds)\n    .catch(error => {\n      if (error) {\n        showError();\n      }\n    });\n}\n\n// Add all ids in select \".breed-select\"\nfunction getAllIds(arr) {\n  for (let i = 0; i < arr.length; i += 1) {\n    let value = arr[i].id;\n    let text = arr[i].id;\n\n    const optionsElement = document.createElement('option');\n    optionsElement.value = value;\n    optionsElement.textContent = text;\n    refs.select.appendChild(optionsElement);\n  }\n}\n\n//Show error\nfunction showError() {\n  refs.errorMessage.style.display = 'block';\n}\n\nexport default createOptions;\n","import API from './js/cat-api';\nimport getRefs from './js/get-refs';\nimport getOptions from './js/get-options';\n\nconst refs = getRefs();\n\nrefs.select.addEventListener('change', onSelectView);\n\n// API Fetch & Add options in select\ngetOptions();\n\n// Fetching object with chosen breed and create markup\nfunction onSelectView() {\n  const breedId = selectedBreeds();\n\n  const isContent = document.querySelector('.img-cat');\n\n  if (isContent) {\n    clearCatContainer();\n    refs.container.classList.add('is-active');\n  }\n  // Show loading message\n  showLoadingMessage();\n\n  API.fetchCatByBreed(breedId)\n    .then(markUp)\n    .catch(showError)\n    .finally(hideLoadingMessage);\n\n  refs.container.style.display = 'block';\n}\n\n// Getting Breed from Select\nfunction selectedBreeds() {\n  const selectedValue = refs.select.options[refs.select.selectedIndex];\n  const selectedText = selectedValue.textContent;\n\n  return selectedText;\n}\n\n// Create Markup\nfunction markUp(arr) {\n  //Add Img\n  let imgUrl = arr.map(link => link.url);\n\n  // Add Description\n  let catDesc = arr.map(link => link.breeds[0].description);\n\n  // Add Temperament\n  let catTemp = arr.map(link => link.breeds[0].temperament);\n\n  const markUp = `\n  \n\n    <img class=\"img-cat\" src=\"${imgUrl}\">\n    <div class=\"intro\">\n      <p class=\"cat-info\"><b>Description:</b>${catDesc}</p>\n      <p class=\"cat-info\"><b>Temperament: </b>${catTemp}</p>\n    </div>\n  `;\n\n  refs.catContainer.insertAdjacentHTML('beforeend', markUp);\n}\n\n// Show loading message\nfunction showLoadingMessage() {\n  refs.loadingMessage.style.display = 'block';\n}\n\n// Hide loading message\nfunction hideLoadingMessage() {\n  refs.loadingMessage.style.display = 'none';\n}\n\n//Show error\nfunction showError() {\n  refs.errorMessage.style.display = 'block';\n}\n\n// Remove all childs from .cat-info\nfunction clearCatContainer() {\n  const children = Array.from(refs.catContainer.children);\n\n  // Check every child element\n  children.forEach(child => {\n    // if not a close btn\n    if (child !== refs.closeButton) {\n      refs.catContainer.removeChild(child);\n    }\n  });\n}\n"],"names":["$28e87b1ff6534a73$export$2e2bcd8739ae039","select","document","querySelector","catContainer","loadingMessage","errorMessage","closeButton","content","container","$8994e83c1b13b9e2$var$API_KEY","$8994e83c1b13b9e2$export$2e2bcd8739ae039","fetchBreeds","fetch","headers","then","response","json","fetchCatByBreed","breedId","concat","$c675e4e14f55996b$var$refs","default","$c675e4e14f55996b$var$getAllIds","arr","i","length","value","id","text","optionsElement","createElement","textContent","appendChild","$b8f9b7833fa37166$var$refs","$3vKGz","$b8f9b7833fa37166$var$markUp","imgUrl","map","link","url","catDesc","breeds","description","catTemp","temperament","markUp1","insertAdjacentHTML","$b8f9b7833fa37166$var$hideLoadingMessage","style","display","$b8f9b7833fa37166$var$showError","addEventListener","options","selectedIndex","Array","from","children","forEach","child","removeChild","classList","add","catch","finally","error"],"version":3,"file":"index.daa440bf.js.map"}