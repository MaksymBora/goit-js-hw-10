{"mappings":"4oBAYAA,EAZA,WACE,MAAO,CACLC,OAAQC,SAASC,cAAc,iBAC/BC,aAAcF,SAASC,cAAc,aACrCE,eAAgBH,SAASC,cAAc,WACvCG,aAAcJ,SAASC,cAAc,UACrCI,YAAaL,SAASC,cAAc,cACpCK,QAASN,SAASC,cAAc,YAChCM,UAAWP,SAASC,cAAc,c,KCLjBD,SAASC,cAAc,U,IAwB5CO,EAAe,C,YAlBf,WAGE,OAAOC,MAFK,uCAEM,CAChBC,QAAS,CACP,YAbJ,2EAeGC,MAAKC,GACCA,EAASC,Q,kBAIpB,SAAyBC,GACvB,OAAOL,MACL,wDAAwDK,mFACxDH,MAAKC,GAAYA,EAASC,Q,gBCrB9B,MAAME,GAAO,G,cAAAC,WAab,SAASC,EAAUC,GACjB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAIE,OAAQD,GAAK,EAAG,CACtC,IAAIE,EAAQH,EAAIC,GAAGG,GACfC,EAAOL,EAAIC,GAAGG,GAElB,MAAME,EAAiBxB,SAASyB,cAAc,UAC9CD,EAAeH,MAAQA,EACvBG,EAAeE,YAAcH,EAC7BR,EAAKhB,OAAO4B,YAAYH,E,ECpB5B,MAAMI,GAAO,EAAAC,EAAAb,WAqCb,SAASc,EAAOZ,GAUd,MAAMa,EAAS,yCARFb,EAAIc,KAAIC,GAAQA,EAAKC,kFAGpBhB,EAAIc,KAAIC,GAAQA,EAAKE,OAAO,GAAGC,oEAG/BlB,EAAIc,KAAIC,GAAQA,EAAKE,OAAO,GAAGE,oCAY7CT,EAAK1B,aAAaoC,mBAAmB,YAAaP,E,CASpD,SAASQ,IACPX,EAAKzB,eAAeqC,MAAMC,QAAU,M,CAItC,SAASC,IACPd,EAAKxB,aAAaoC,MAAMC,QAAU,O,CAtEpCb,EAAK7B,OAAO4C,iBAAiB,UAM7B,WACE,MAAM7B,EAoBR,WACE,MAAM8B,EAAgBhB,EAAK7B,OAAO8C,QAAQjB,EAAK7B,OAAO+C,eAGtD,OAFqBF,EAAclB,W,CAtBnBqB,GAEE/C,SAASC,cAAc,cAkExB+C,MAAMC,KAAKrB,EAAK1B,aAAagD,UAGrCC,SAAQC,IAEXA,IAAUxB,EAAKvB,aACjBuB,EAAK1B,aAAamD,YAAYD,EAAM,IApEtCxB,EAAKrB,UAAU+C,UAAUC,IAAI,cA+C/B3B,EAAKzB,eAAeqC,MAAMC,QAAU,QA1CpCjC,EAAIgD,gBAAgB1C,GACjBH,KAAKmB,GACL2B,MAAMf,GACNgB,QAAQnB,GAEXX,EAAKrB,UAAUiC,MAAMC,QAAU,O,IDvB/BjC,EAAImD,cACDhD,KAAKM,GACLwC,OAAMG,IACDA,IAqBR7C,EAAKX,aAAaoC,MAAMC,QAAU,QApBjB","sources":["src/js/get-refs.js","src/js/cat-api.js","src/js/get-options.js","src/index.js"],"sourcesContent":["function getRefs() {\n  return {\n    select: document.querySelector('.breed-select'),\n    catContainer: document.querySelector('.cat-info'),\n    loadingMessage: document.querySelector('.loader'),\n    errorMessage: document.querySelector('.error'),\n    closeButton: document.querySelector('.close-btn'),\n    content: document.querySelector('.content'),\n    container: document.querySelector('.container'),\n  };\n}\n\nexport default getRefs;\n","const API_KEY =\n  'live_g3D26VHAvpkRAZlZj7jcyMBbUD2jb6JQVlVVYA60YGep9O596PhpPwwPd9go9JOy';\n\nconst errorMessage = document.querySelector('.error');\n//Show error\nfunction showError() {\n  errorMessage.style.display = 'block';\n}\n\nfunction fetchBreeds() {\n  const url = `https://api.thecatapi.com/v1/breeds/`;\n\n  return fetch(url, {\n    headers: {\n      'x-api-key': API_KEY,\n    },\n  }).then(response => {\n    return response.json();\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=${API_KEY}`\n  ).then(response => response.json());\n}\n\nexport default { fetchBreeds, fetchCatByBreed };\n","import API from './cat-api';\nimport getRefs from './get-refs';\n\nconst refs = getRefs();\n\nfunction createOptions() {\n  API.fetchBreeds()\n    .then(getAllIds)\n    .catch(error => {\n      if (error) {\n        showError();\n      }\n    });\n}\n\n// Add all ids in select \".breed-select\"\nfunction getAllIds(arr) {\n  for (let i = 0; i < arr.length; i += 1) {\n    let value = arr[i].id;\n    let text = arr[i].id;\n\n    const optionsElement = document.createElement('option');\n    optionsElement.value = value;\n    optionsElement.textContent = text;\n    refs.select.appendChild(optionsElement);\n  }\n}\n\n//Show error\nfunction showError() {\n  refs.errorMessage.style.display = 'block';\n}\n\nexport default createOptions;\n","import API from './js/cat-api';\nimport getRefs from './js/get-refs';\nimport getOptions from './js/get-options';\n\nconst refs = getRefs();\n\nrefs.select.addEventListener('change', onSelectView);\n\n// API Fetch & Add options in select\ngetOptions();\n\n// Fetching object with chosen breed and create markup\nfunction onSelectView() {\n  const breedId = selectedBreeds();\n\n  const isContent = document.querySelector('.img-cat');\n\n  if (isContent) {\n    clearCatContainer();\n    refs.container.classList.add('is-active');\n  }\n  // Show loading message\n  showLoadingMessage();\n\n  API.fetchCatByBreed(breedId)\n    .then(markUp)\n    .catch(showError)\n    .finally(hideLoadingMessage);\n\n  refs.container.style.display = 'block';\n}\n\n// Getting Breed from Select\nfunction selectedBreeds() {\n  const selectedValue = refs.select.options[refs.select.selectedIndex];\n  const selectedText = selectedValue.textContent;\n\n  return selectedText;\n}\n\n// Create Markup\nfunction markUp(arr) {\n  //Add Img\n  let imgUrl = arr.map(link => link.url);\n\n  // Add Description\n  let catDesc = arr.map(link => link.breeds[0].description);\n\n  // Add Temperament\n  let catTemp = arr.map(link => link.breeds[0].temperament);\n\n  const markUp = `\n  \n\n    <img class=\"img-cat\" src=\"${imgUrl}\">\n    <div class=\"intro\">\n      <p class=\"cat-info\"><b>Description:</b>${catDesc}</p>\n      <p class=\"cat-info\"><b>Temperament: </b>${catTemp}</p>\n    </div>\n  `;\n\n  refs.catContainer.insertAdjacentHTML('beforeend', markUp);\n}\n\n// Show loading message\nfunction showLoadingMessage() {\n  refs.loadingMessage.style.display = 'block';\n}\n\n// Hide loading message\nfunction hideLoadingMessage() {\n  refs.loadingMessage.style.display = 'none';\n}\n\n//Show error\nfunction showError() {\n  refs.errorMessage.style.display = 'block';\n}\n\n// Remove all childs from .cat-info\nfunction clearCatContainer() {\n  const children = Array.from(refs.catContainer.children);\n\n  // Check every child element\n  children.forEach(child => {\n    // if not a close btn\n    if (child !== refs.closeButton) {\n      refs.catContainer.removeChild(child);\n    }\n  });\n}\n"],"names":["$f973f0a89548de5e$export$2e2bcd8739ae039","select","document","querySelector","catContainer","loadingMessage","errorMessage","closeButton","content","container","$c4ebbd28ee7007ee$export$2e2bcd8739ae039","fetch","headers","then","response","json","breedId","$3cbab85645895f34$var$refs","default","$3cbab85645895f34$var$getAllIds","arr","i","length","value","id","text","optionsElement","createElement","textContent","appendChild","$1f0dc3b9307be026$var$refs","$lpPzL","$1f0dc3b9307be026$var$markUp","markUp1","map","link","url","breeds","description","temperament","insertAdjacentHTML","$1f0dc3b9307be026$var$hideLoadingMessage","style","display","$1f0dc3b9307be026$var$showError","addEventListener","selectedValue","options","selectedIndex","$1f0dc3b9307be026$var$selectedBreeds","Array","from","children","forEach","child","removeChild","classList","add","fetchCatByBreed","catch","finally","fetchBreeds","error"],"version":3,"file":"index.7c111834.js.map"}